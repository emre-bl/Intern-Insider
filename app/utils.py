import streamlit as st
from datetime import datetime

lang_dict = {
    'en': {
        "filter_section_title": "Filter Reviews",
        "company_filter": "Company",
        "rating_filter": "Rating",
        "all_companies": "All Companies",
        "all_ratings": "All Ratings",
        "all_departments": "All Departments",
        "department_filter": "Department",
        "role_filter": "Internship Role",
        "sort_option_label": "Sort Reviews",
        "sort_options": ["Most Liked", "Newest First", "Oldest First"],
        "rating_label": "Rating",
        "department_label": "Department",
        "role_label": "Role",
        "review_label": "Review",
        "salary_label": "Salary",
        "project_rating_label": "Project Rating",
        "feedback_date_label": "Feedback Date",
        "helpful_button": "ğŸ‘ Helpful",
        "no_reviews_found": "No reviews found.",
        "nav_companies": "Companies",
        "nav_reviews": "Reviews",
        "nav_admin": "Admin Login",
        "nav_logout": "Logout",
        "nav_admin_panel": "Admin Panel",
        "submit_review": "Submit Review",
        "hero_title": "Find Your Perfect Internship",
        "hero_subtitle": "Read real experiences from former interns!",
        "filter_title": "Quick Search",
        "search_button": "Search",
        "home_button": "ğŸ  Home",
        "reviews_page_title": "Reviews",
        "no_reviews_available": "No reviews available.",
        "submit_review_page": "Submit Internship Review",
        "company_name": "Select a Company",
        "overall_rating": "Overall Rating",
        "detailed_review": "Detailed Review",
        "salary": "Salary Information (Optional)",
        "internship_role": "Internship Role",
        "project_quality": "Project Quality Rating (1-10)",
        "transportation": "Transportation Available",
        "remote_work": "Remote Work Option",
        "meal_allowance": "Meal Allowance",
        "technologies_used": "Technologies Used",
        "submit_button": "Submit Review",
        "success_message": "Your review has been successfully submitted!",
        "not_provided": "Not provided",
        "tech_used_placeholder": "Enter technologies, separated by commas",
        "warning_message": "You didn't provide a detailed review. Please consider adding more information.",
        "company_warning_message": "Please select a company before submitting your review.",
        "likes": "Likes",
        "admin_login_title": "Admin Login",
        "username_label": "Username",
        "password_label": "Password",
        "login_button": "Login",
        "login_success": "Login successful!",
        "login_failed": "Invalid username or password.",
        "db_connection_error": "Database connection failed. Please try again later.",
        "unexpected_error": "An unexpected error occurred",
        "already_logged_in": "Admin is already logged in!",
        "filter_rating": "Minimum Rating",
        "popular_reviews": "Most Liked Reviews",
        "department": "Departmant",
        "admin_panel_title": "Admin Panel",
        "pending_reviews_tab": "Pending Reviews",
        "manage_companies_tab": "Manage Companies",
        "add_new_company": "Add New Company",
        "delete_company": "Delete Company",
        "company_add_success": "Company added successfully!",
        "company_delete_success": "Company '{}' deleted successfully!",
        "no_more_pending_reviews": "No more pending reviews!",
        "pending_reviews": "Pending Reviews",
        "no_pending_reviews": "No pending reviews!",
        "approve_review_button": "Approve Review",
        "reject_review_button": "Reject Review",
        "review_text": "Review Text",
        "submission_date": "Submission Date",
        "position": "Position",
        "industry": "Industry",
        "location": "Location",
        "remove_company": "Remove Company"
    },
    'tr': {
        "filter_section_title": "DeÄŸerlendirmeleri Filtrele",
        "company_filter": "Åirket",
        "rating_filter": "Puan",
        "all_companies": "TÃ¼m Åirketler",
        "all_ratings": "TÃ¼m Puanlar",
        "all_departments": "TÃ¼m Departmanlar",
        "department_filter": "Departman",
        "role_filter": "Staj Pozisyonu",
        "sort_option_label": "DeÄŸerlendirmeleri SÄ±rala",
        "sort_options": ["En BeÄŸenilen", "En Yeni", "En Eski"],
        "rating_label": "Puan",
        "department_label": "Departman",
        "role_label": "Pozisyon",
        "review_label": "DeÄŸerlendirme",
        "salary_label": "MaaÅŸ",
        "project_rating_label": "Proje PuanÄ±",
        "feedback_date_label": "Geri Bildirim Tarihi",
        "helpful_button": "ğŸ‘ FaydalÄ±",
        "no_reviews_found": "HiÃ§ deÄŸerlendirme bulunamadÄ±.",
        "nav_companies": "Åirketler",
        "nav_reviews": "DeÄŸerlendirmeler",
        "nav_admin": "Admin GiriÅŸi",
        "nav_logout": "Ã‡Ä±kÄ±ÅŸ Yap",
        "nav_admin_panel": "Admin Panel",
        "submit_review": "Åirket DeÄŸerlendir",
        "hero_title": "Hayalindeki StajÄ± Bul",
        "hero_subtitle": "Eski stajyerlerin gerÃ§ek deneyimlerini oku!",
        "filter_title": "HÄ±zlÄ± Arama",
        "search_button": "Ara",
        "home_button": "ğŸ  Anasayfa",
        "reviews_page_title": "DeÄŸerlendirmeler",
        "no_reviews_available": "HiÃ§ deÄŸerlendirme yok.",
        "submit_review_page": "Staj DeÄŸerlendirmesi GÃ¶nder",
        "company_name": "Åirket SeÃ§in",
        "overall_rating": "Genel DeÄŸerlendirme",
        "detailed_review": "DetaylÄ± DeÄŸerlendirme",
        "salary": "AylÄ±k MaaÅŸ Bilgisi (Opsiyonel)",
        "internship_role": "Staj Pozisyonu",
        "project_quality": "Proje Kalitesi PuanÄ± (1-10)",
        "transportation": "Servis Mevcut",
        "remote_work": "Uzaktan Ã‡alÄ±ÅŸma SeÃ§eneÄŸi",
        "meal_allowance": "Yemek YardÄ±mÄ±",
        "technologies_used": "KullanÄ±lan Teknolojiler",
        "submit_button": "DeÄŸerlendirmeyi GÃ¶nder",
        "success_message": "DeÄŸerlendirmeniz baÅŸarÄ±yla gÃ¶nderildi!",
        "not_provided": "SaÄŸlanmadÄ±",
        "tech_used_placeholder": "KullanÄ±lan teknolojileri virgÃ¼lle ayÄ±rarak girin",
        "warning_message": "DetaylÄ± deÄŸerlendirme yapmadÄ±nÄ±z. LÃ¼tfen daha fazla bilgi verin.",
        "company_warning_message": "LÃ¼tfen deÄŸerlendirmenizi gÃ¶ndermeden Ã¶nce bir ÅŸirket seÃ§in.",
        "likes": "BeÄŸeni",
        "admin_login_title": "Admin GiriÅŸi",
        "username_label": "KullanÄ±cÄ± AdÄ±",
        "password_label": "Åifre",
        "login_button": "GiriÅŸ Yap",
        "login_success": "GiriÅŸ baÅŸarÄ±lÄ±!",
        "login_failed": "GeÃ§ersiz kullanÄ±cÄ± adÄ± veya ÅŸifre.",
        "db_connection_error": "VeritabanÄ± baÄŸlantÄ±sÄ± baÅŸarÄ±sÄ±z oldu. LÃ¼tfen daha sonra tekrar deneyin.",
        "unexpected_error": "Beklenmedik bir hata oluÅŸtu",
        "already_logged_in": "Admin halihazÄ±rda giriÅŸ yapmÄ±ÅŸ!",
        "filter_rating": "Minimum Puan",
        "popular_reviews": "En Ã‡ok BeÄŸenilen DeÄŸerlendirmeler",
        "department": "Departman",
        "admin_panel_title": "Admin Paneli",
        "pending_reviews_tab": "Bekleyen DeÄŸerlendirmeler",
        "manage_companies_tab": "Åirket YÃ¶netimi",
        "add_new_company": "Yeni Åirket Ekle",
        "delete_company": "Åirket Sil",
        "company_add_success": "Åirket baÅŸarÄ±yla eklendi!",
        "company_delete_success": "Åirket '{}' baÅŸarÄ±yla silindi!",
        "no_more_pending_reviews": "Daha fazla bekleyen deÄŸerlendirme yok!",
        "pending_reviews": "Bekleyen DeÄŸerlendirmeler",
        "no_pending_reviews": "Bekleyen deÄŸerlendirme yok!",
        "approve_review_button": "DeÄŸerlendirmeyi Onayla",
        "reject_review_button": "DeÄŸerlendirmeyi Reddet",
        "review_text": "DeÄŸerlendirme Metni",
        "submission_date": "GÃ¶nderim Tarihi",
        "position": "Pozisyon",
        "industry": "EndÃ¼stri",
        "location": "Konum",
        "remove_company": "Åirketi Sil"
        
    }
}

def initialize_session_state():
    """
    Initialize default session state variables for the app.
    """
    # General session variables
    if 'language' not in st.session_state:
        st.session_state['language'] = 'en'  # Default language
    if 'page' not in st.session_state:
        st.session_state['page'] = 'home'  # Default to home page
    if 'is_admin' not in st.session_state:
        st.session_state['is_admin'] = False  # Default to not logged in

    # Admin-specific session variables
    if 'current_review_index' not in st.session_state:
        st.session_state['current_review_index'] = 0  # Index for pending reviews
    if 'pending_reviews' not in st.session_state:
        st.session_state['pending_reviews'] = []  # List of reviews to approve/reject
    if 'companies' not in st.session_state:
        st.session_state['companies'] = []  # List of companies for admin management
    if 'last_refresh' not in st.session_state:
        st.session_state['last_refresh'] = datetime.now()  # Timestamp for caching
